{
  "active": false,
  "connections": {
    "Code3": {
      "main": [
        [
          {
            "node": "Simulation_API3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Simulation_API3": {
      "main": [
        [
          {
            "node": "OpenAI3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Workflow Input Trigger": {
      "main": [
        [
          {
            "node": "Izhikevich_2003",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Izhikevich_2003": {
      "main": [
        [
          {
            "node": "Code3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "Izhikevich_2003",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    }
  },
  "createdAt": "2025-02-14T16:55:52.024Z",
  "id": "C72raI0eNjq223EB",
  "meta": {
    "templateCredsSetupCompleted": true
  },
  "name": "Izhikevich_2003",
  "nodes": [
    {
      "parameters": {
        "jsCode": "// Original-Response aus dem Input-Node\nconst response = $input.first().json.text;\n\n// Validierung: Sicherstellen, dass response ein String ist\nif (typeof response !== 'string') {\n  throw new Error(\"Response ist nicht definiert oder kein String.\");\n}\n\n// Regex zur Extraktion der Parameter und Werte\nconst regexParams = /\\b([a-zA-Z_]+(?:\\s*\\(.*?\\))?):\\s*([\\d.-]+)\\s*(?:\\*\\s*[a-zA-Z_()]+)?/g;\n\n// Alle Ãœbereinstimmungen fÃ¼r Parameter finden\nconst matchesParams = [...response.matchAll(regexParams)];\n\n// Initialisiere ein Objekt zur Speicherung der Parameter\nconst parameters = {};\n\n// Parameterwerte aus Matches extrahieren\nmatchesParams.forEach(match => {\n  // Extrahiere den Parameter-Namen und den Wert\n  const paramName = match[1].trim();\n  const paramValue = parseFloat(match[2]);\n\n  // Speichere die Parameter im Objekt\n  parameters[paramName] = paramValue;\n});\n\n// RÃ¼ckgabe des Parameters-Objekts\nreturn {\n  json: parameters\n};\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -40,
        -20
      ],
      "id": "f0d6b77e-5810-4b4c-9dd2-955e9125b3c3",
      "name": "Code3"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{$env.API_URL}}/simulate_network",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={{ $('Code3').item.json }}",
        "options": {
          "response": {}
        }
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        300,
        -20
      ],
      "id": "91027671-9999-436e-9c5b-52a196678977",
      "name": "Simulation_API3"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=Du bist ein fÃ¼hrender Neurowissenschaftler mit fundierter Expertise in der Arbeit mit Simulationssoftware. Deine Aufgabe besteht darin, prÃ¤zise Simulationsparameter zu bestimmen, die optimal auf ein vorgegebenes Szenario abgestimmt sind.\n\nDein Ziel:\nKonfiguriere die Simulation so, dass sie das Szenario mÃ¶glichst genau widerspiegelt, robuste wissenschaftliche Erkenntnisse liefert und optimal auf relevante Fragestellungen eingeht.\n\nDein Arbeitsansatz:\n\nAnalysiere das Szenario sorgfÃ¤ltig, um relevante Variablen, Bedingungen und ZielgrÃ¶ÃŸen zu identifizieren, die durch die Simulation abgebildet werden sollen.\nBestimme prÃ¤zise, wie die Simulationsparameter konfiguriert werden mÃ¼ssen, um eine hohe Genauigkeit und Relevanz fÃ¼r das vorgegebene Szenario zu erreichen.\nFÃ¼hre die Optimierung so aus, dass Ergebnisse eine maximale Ãœbertragbarkeit auf reale oder hypothetische Situationen garantieren.\nDokumentiere ausschlieÃŸlich die optimierten Simulationsparameter, um einen direkten Einsatz in der Simulation zu ermÃ¶glichen.\nWichtige Anforderungen:\n\nDie Analyse und die Auswahl der Parameter mÃ¼ssen vollstÃ¤ndig objektiv, wissenschaftlich fundiert und direkt anwendbar sein.\nDer Output ist strikt auf die relevanten Simulationsparameter zu beschrÃ¤nken.\nVerzichte auf jegliche Einleitung, ErklÃ¤rungen oder abschlieÃŸende Kommentare.\n\nSimulationsparameter:\nParameter: tfinal\nBeschreibung: Gesamtzeit der Simulation. In Izhikevich (2003) sind Simulationszeiten von 1â€¯s (1000â€¯ms) Ã¼blich.\nWertebereich: [Min: 1000, Typisch: 1000, Max: 1000]\nEinheit: ms\n\nParameter: dt\nBeschreibung: Zeitschritt der numerischen Integration. Werte zwischen 0.1â€¯ms und 1â€¯ms sind typisch fÃ¼r eine stabile und genaue Simulation.\nWertebereich: [Min: 0.1, Typisch: 1, Max: 1]\nEinheit: ms\n\nParameter: Ne\nBeschreibung: Anzahl exzitatorischer Neuronen im Netzwerk. Typischerweise 80â€¯% der Gesamtanzahl.\nWertebereich: [Min: 800, Typisch: 800, Max: 800]\nEinheit: â€“\n\nParameter: Ni\nBeschreibung: Anzahl inhibitorischer Neuronen im Netzwerk. Typischerweise 20â€¯% der Gesamtanzahl.\nWertebereich: [Min: 200, Typisch: 200, Max: 200]\nEinheit: â€“\n\nParameter: a_exc\nBeschreibung: Zeitskalierungsparameter fÃ¼r exzitatorische Neuronen. Standardwert fÃ¼r regulÃ¤r feuernde Neuronen nach Izhikevich (2003).\nWertebereich: [Min: 0.02, Typisch: 0.02, Max: 0.02]\nEinheit: â€“\n\nParameter: b_exc\nBeschreibung: Erholungsparameter fÃ¼r exzitatorische Neuronen. Beeinflusst die Nachhyperpolarisationsphase.\nWertebereich: [Min: 0.2, Typisch: 0.2, Max: 0.2]\nEinheit: â€“\n\nParameter: c_excÂ Â \nBeschreibung: Reset-Wert fÃ¼r das Membranpotenzial nach einem Spike. HÃ¤ngt von re ab (c=âˆ’65+15reÂ²).Â Â \nWertebereich: [Min: -65, Typisch: -57.5, Max: -50]Â Â \nEinheit: mV\n\nParameter: d_excÂ Â \nBeschreibung: Anpassung des Erholungsparameters nach einem Spike. HÃ¤ngt von re ab (d=8âˆ’6reÂ²).Â Â \nWertebereich: [Min: 2, Typisch: 5, Max: 8]Â Â \nEinheit: â€“\n\nParameter: a_inhÂ Â \nBeschreibung: Zeitskalierungsparameter fÃ¼r inhibitorische Neuronen. HÃ¤ngt von ri ab (a=0.02+0.08ri).Â Â \nWertebereich: [Min: 0.02, Typisch: 0.06, Max: 0.1]Â Â \nEinheit: â€“\n\nParameter: b_inhÂ Â \nBeschreibung: Erholungsparameter fÃ¼r inhibitorische Neuronen. HÃ¤ngt von ri ab (b=0.25âˆ’0.05ri).Â Â \nWertebereich: [Min: 0.2, Typisch: 0.225, Max: 0.25]Â Â \nEinheit: â€“\n\nParameter: c_inhÂ Â \nBeschreibung: Reset-Wert fÃ¼r das Membranpotenzial nach einem Spike fÃ¼r inhibitorische Neuronen.Â Â \nWertebereich: [Min: -65, Typisch: -65, Max: -65]Â Â \nEinheit: mV\n\nParameter: d_inhÂ Â \nBeschreibung: Anpassung des Erholungsparameters nach einem Spike fÃ¼r inhibitorische Neuronen.Â Â \nWertebereich: [Min: 2, Typisch: 2, Max: 2]Â Â \nEinheit: â€“\n\nParameter: I (synaptischer Eingangsstrom)Â Â \nBeschreibung: StromstÃ¤rke, die von Synapsen abhÃ¤ngig ist. AbhÃ¤ngig von Netzwerkkonfiguration und synaptischer Dynamik.Â Â \nWertebereich: [Min: -20, Typisch: 0, Max: 20]Â Â \nEinheit: Variabel\n\nParameter: I_noise_excÂ Â \nBeschreibung: ZufÃ¤llige Stromeinspeisung fÃ¼r exzitatorische Neuronen (ğ¼noise=5â‹…randn()).Â Â \nWertebereich: [Min: -15, Typisch: 0, Max: 15]Â Â \nEinheit: Variabel\n\nParameter: I_noise_inhÂ Â \nBeschreibung: ZufÃ¤llige Stromeinspeisung fÃ¼r inhibitorische Neuronen (ğ¼noise=2â‹…randn()).Â Â \nWertebereich: [Min: -6, Typisch: 0, Max: 6]Â Â \nEinheit: Variabel\n\nParameter: v (Startwert)Â Â \nBeschreibung: Anfangswert fÃ¼r das Membranpotenzial. Entspricht dem Ruhepotenzial der Neuronen.Â Â \nWertebereich: [Min: -65, Typisch: -65, Max: -65]Â Â \nEinheit: mV\n\nParameter: weights_excÂ Â \nBeschreibung: StÃ¤rke exzitatorischer Synapsen. Werte stammen aus einer Gleichverteilung (0.5â‹…Uniform(0,1)).Â Â \nWertebereich: [Min: 0, Typisch: 0.25, Max: 0.5]Â Â \nEinheit: â€“\n\nParameter: weights_inhÂ Â \nBeschreibung: StÃ¤rke inhibitorischer Synapsen. Werte stammen aus einer Gleichverteilung (âˆ’Uniform(0,1)).Â Â \nWertebereich: [Min: -1, Typisch: -0.5, Max: 0]Â Â \nEinheit: â€“\n\nParameter: delay_upÂ Â \nBeschreibung: VerzÃ¶gerung fÃ¼r ansteigende synaptische Signale.Â Â \nWertebereich: [Min: 0, Typisch: 0, Max: 0]Â Â \nEinheit: ms\n\nParameter: delay_downÂ Â \nBeschreibung: VerzÃ¶gerung fÃ¼r absteigende synaptische Signale.Â Â \nWertebereich: [Min: 1, Typisch: 1, Max: 1]Â Â \nEinheit: ms\n\n\nBeispieloutput:\ntfinal: 1000 * ms\ndt: 1 * ms\nNe: 800\nNi: 200\na_exc: 0.02\nb_exc: 0.2\nc_exc: -57.5 * mV\nd_exc: 5\na_inh: 0.06\nb_inh: 0.225\nc_inh: -65 * mV\nd_inh: 2\nI: 0\nI_noise_exc: 0\nI_noise_inh: 0\nv: -65 * mV\nweights_exc: 0.25\nweights_inh: -0.5\ndelay_up: 0 * ms\ndelay_down: 1 * ms\n--------------------------------------------------------------------------------\nDies ist das zu simulierende Szenario:\n{{ $json.query }}"
      },
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "typeVersion": 1.5,
      "position": [
        -480,
        -20
      ],
      "id": "2a8e796b-dcc1-463e-9ad3-a6de2a721b8f",
      "name": "Izhikevich_2003"
    },
    {
      "parameters": {
        "inputSource": "passthrough"
      },
      "type": "n8n-nodes-base.executeWorkflowTrigger",
      "typeVersion": 1.1,
      "position": [
        -720,
        -20
      ],
      "id": "d7d62a46-af77-4761-8d70-5b7ba40f9300",
      "name": "Workflow Input Trigger"
    },
    {
      "parameters": {
        "resource": "image",
        "operation": "analyze",
        "modelId": {
          "__rl": true,
          "value": "gpt-4o-mini",
          "mode": "list",
          "cachedResultName": "GPT-4O-MINI"
        },
        "text": "=Rolle und Kontext: Du bist ein erfahrener Neurowissenschaftler und analysierst eine Simulation basierend auf Brian2 â€“ Izhikevich_2003. Dein Ziel ist es, praxisrelevante Erkenntnisse aus den Daten zu extrahieren, anstatt das Diagramm zu beschreiben.\n\nSimuliertes Szenario: \n{{ $('Workflow Input Trigger').item.json.query }}\nRelevante Parameter: \n{{ $('Izhikevich_2003').item.json.text }}\n\nAnalyse & Insights (max. 300 Tokens)\nKernaussagen\n\nWelche biologischen oder physikalischen Prozesse spiegeln sich in den Daten wider?\nWelche zentralen Trends oder signifikanten Ã„nderungen sind sichtbar?\nInterpretation & Relevanz\n\nWas bedeuten die Trends fÃ¼r neuronale Dynamiken oder Modellannahmen?\nGibt es unerwartete Abweichungen? Welche Hypothesen kÃ¶nnten sie erklÃ¤ren?\nHandlungsimplikationen\n\nWelche praktischen oder theoretischen Konsequenzen ergeben sich aus der Analyse?\nWie kÃ¶nnten die Erkenntnisse zur Modellverbesserung oder Experimentplanung beitragen?\nZusÃ¤tzliche Hinweise:\n\nNutze wissenschaftliche Terminologie mit prÃ¤zisen quantitativen Aussagen.\nVermeide lange Diagrammbeschreibungen â€“ der Fokus liegt auf der Bedeutung der Daten.\nDie Ausgabe darf maximal 300 Tokens umfassen.",
        "inputType": "base64",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "typeVersion": 1.8,
      "position": [
        520,
        -20
      ],
      "id": "7e493646-ff2a-45d2-af58-6da818781a12",
      "name": "OpenAI3",
      "credentials": {
        "openAiApi": {
          "id": "93L9c3FnEnOvHs4I",
          "name": "OpenAi account 2"
        }
      }
    },
    {
      "parameters": {
        "modelName": "models/gemini-2.0-flash-thinking-exp",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        -400,
        200
      ],
      "id": "e2b4ea71-69b1-4231-a719-a463eedfe7b8",
      "name": "Google Gemini Chat Model",
      "credentials": {
        "googlePalmApi": {
          "id": "Mid8lkFo2uMmRyYL",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    }
  ],
  "pinData": {},
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": null,
  "tags": [],
  "triggerCount": 0,
  "updatedAt": "2025-02-16T10:14:48.000Z",
  "versionId": "bde469d7-5581-4b2e-bb82-20522fa076ff"
}